<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>R crash course</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="stylesheet" href="libraries/frameworks/revealjs/css/reveal.min.css">
  <link rel="stylesheet" href="libraries/frameworks/revealjs/css/theme/default.css" id="theme">
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/sky.css" id="theme">
  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->  <link rel="stylesheet" href = "assets/css/ribbons.css">

</head>
<body>
  <div class="reveal">
    <div class="slides">
      <section class='' data-state='' id='slide-1'>
  <h1>Data</h1>
  <p>Data answers the following three questions: </p>

<ul>
<li><span style="color:orange; font-weight:bold"> What happened? </span></li>
<li><span style="color:dodgerblue; font-weight:bold"> Where are we going? </span></li>
<li><span style="color:lightgreen; font-weight:bold"> What to do now? </span></li>
</ul>

</section>
<section class='' data-state='' id='slide-2'>
  <h1>Data Analysis</h1>
  <p><span style="color:dodgerblue; font-weight:bold"> Data itself has no meaning. It&#39;s what we can extract from it that gives it meaning. This requires analysing the data. </span></p>

<p><BR>
That being said, personal bias and deceit can always play a role, which is another reason to learn to understand where the results came from!
</BR></p>

</section>
<section class='' data-state='' id='slide-3'>
  
  <p><img src="correlation.png" alt="img"></p>

</section>
<section class='' data-state='' id='slide-4'>
  
  <p><img src="correlation_fin.png" alt="img2"></p>

</section>
<section class='' data-state='' id='slide-5'>
  <h1>Why Programming?</h1>
  <p><span style="color:dodgerblue; font-weight:bold">You are the creator. You are God.</span></p>

<p><BR></p>

<ul>
<li>Control operations</li>
<li>Analyse anything of your choosing</li>
<li>Automate a time-consuming task</li>
<li>Create your own product</li>
<li>Make a programming language...
</BR></li>
</ul>

</section>
<section class='' data-state='' id='slide-6'>
  <h2>... with Arnold quotes!</h2>
  <p><img src="arnoldC.png" alt="arnoldC"></p>

</section>
<section class='' data-state='' id='slide-7'>
  <h1>R Language</h1>
  <p><span style="color:orange; font-weight:bold">R is a statistical programming language that is:</span></p>

<ul>
<li>open source ==&gt; freely available</li>
<li>highly compatible for data analysis with many types of data structures</li>
<li>simple and quick (relatively) to learn and use</li>
<li>highly compatible with other languages (it was made from C and Fortran)</li>
<li>growing in popularity and use (you&#39;ll see why)</li>
</ul>

</section>
<section class='' data-state='' id='slide-8'>
  <h1>Let&#39;s set up!</h1>
  
</section>
<section class='' data-state='' id='slide-9'>
  <h1>Object-oriented Programming (OOP)</h1>
  <ol>
<li>Take a number, data set, ANYTHING (I&#39;ll chose to say &quot;Hello World&quot;)</li>
<li>Think of a name to call it (I&#39;ll call mine, My.Object)</li>
<li>Feed it into an object by it&#39;s name using &quot;&lt;-&quot;&quot;</li>
<li>Now your information is saved into the object given by its name for you to call in the future</li>
</ol>

<p><BR>
<span style="color:dodgerblue; font-weight:bold"> Example: </span></p>

<pre><code class="r">My.Object &lt;- &quot;Hello world&quot;
My.Object
</code></pre>

<pre><code>## [1] &quot;Hello world&quot;
</code></pre>

<p></BR></p>

</section>
<section class='' data-state='' id='slide-10'>
  <h1>Functions</h1>
  <p>R has many build-in functions that perform tasks for you, saving you the work of programming them yourself.</p>

<p>Examples of functions are:</p>

<ul>
<li><code>date()</code></li>
<li><code>data()</code></li>
<li><code>is.numeric()</code></li>
</ul>

<p>Many functions are available within packages, which R keeps in a its library. We can easily check what we have with the function <code>library()</code>. For special (most) packages, we must download them from a magical place called Cran.</p>

</section>
<section class='' data-state='' id='slide-11'>
  <h1>Cran</h1>
  <ul>
<li>Cran is the massive repository online which houses all the fully developed R packages.</li>
</ul>

<p><BR></p>

<ul>
<li>Let&#39;s say I want to read and analyse stock data through an API (more on API&#39;s later). I can search on Google and find that the package &quot;quantmod&quot; does the trick! So, I can install the package, check the library and read it into R from the library anytime I need it (must be done once per session). In these packages are many useful functions!
</BR></li>
</ul>

<pre><code class="r"># I can make comments with hash tags
install.packages(&quot;quantmod&quot;) # install
library() # check library
library(quantmod) # load the package in this R session
</code></pre>

</section>
<section class='' data-state='' id='slide-12'>
  <h3>What are the functions!? I need help!</h3>
  <p>Firstly, Cran has all the tutorials you need online in a pdf format for each function. If thats not enough, Stack Overflow is a great great resource of fellow programmers. If you have a question, I can almost guarantee you&#39;ll find it there. More simply, we can do the following (assuming we know the function):</p>

<pre><code class="r">?getSymbols
?matrix
?date
</code></pre>

</section>
<section class='' data-state='' id='slide-13'>
  <h1>Types of objects</h1>
  <ul>
<li>numeric, integer, string: 

<ul>
<li>x &lt;- 5.09, y &lt;- 2, z &lt;- &quot;cool&quot;</li>
</ul></li>
<li>vectors: 

<ul>
<li>vec &lt;- c(2, 5 , 9)</li>
</ul></li>
<li>matrices: 

<ul>
<li>mat &lt;- matrix(c(1,2,3,7,7,8), nrow = 2)</li>
</ul></li>
<li>data.frames: 

<ul>
<li>df &lt;- data.frame(hello = rep(&quot;hello&quot;, 4), int = seq(1, 4, by = 1), num = rnorm(4))</li>
</ul></li>
<li>lists:

<ul>
<li>mylist &lt;- list(mat, df, vec)</li>
</ul></li>
</ul>

</section>
<section class='' data-state='' id='slide-14'>
  <h2>It&#39;s all about data.frames</h2>
  <ul>
<li>R&#39;s data.frames can handle data of any type</li>
<li>When R reads data in, it uses data.frames so that you&#39;re data stays in a comfortable format</li>
<li>numbers stay numeric, factors stay as factors, etc.</li>
<li>Next, we try reading in data.</li>
</ul>

</section>
<section class='' data-state='' id='slide-15'>
  <h1>First, try Excel</h1>
  <p><span style="color:lightgreen; font-weight:bold">Open the Sightings.csv file from the website in Excel. Thoughts? </span></p>

</section>
<section class='' data-state='' id='slide-16'>
  <h1>Reading data</h1>
  <p>Download the Sightings.csv from the website and save it into your working directory. The working directory is where R sees your files.</p>

<pre><code class="r">getwd() # check where R is looking for your files (and if Sightings.csv is there)

data &lt;- read.csv(&quot;Sightings.csv&quot;) # read in the csv file

head(data) # avoid seeing all the data at once
</code></pre>

</section>
<section class='' data-state='' id='slide-17'>
  <h1>Examining the data</h1>
  <p>Data is messy and usually contains way too much information to see with the naked eye. Luckily, R has built in functions that make this more of a human task:</p>

<ul>
<li>str(data)</li>
<li>head(data); tail(data)</li>
<li>dim(data)</li>
<li>is.data.frame()</li>
</ul>

<p><BR>
What do these functions tell you abou the data? So long Excel!
</BR></p>

</section>
<section class='' data-state='' id='slide-18'>
  <h1>Disseminating the Data</h1>
  <p>We can pull what we need from the data using simple operators:</p>

<pre><code class="r">sightings &lt;- data$sightings # gives us the column (vector) called sightings

sightings2 &lt;- data[,2] # same as above, but specifying column number [row, column]

obs &lt;- data[dim(data)[1], 1] # what does this do?

obs2 &lt;- max(data$sightings) # or max(sightings) as we alread made the sightings object
</code></pre>

<p>Functions within functions are possible! Remember &quot;?function_name&quot; to learn about the funtion.</p>

</section>
<section class='' data-state='' id='slide-19'>
  <h1>Logical Operators</h1>
  <ul>
<li>Logical operators consist of &quot;&gt;&quot;, &quot;&lt;&quot;, &quot;==&quot;, &quot;&gt;=&quot;, &quot;&lt;=&quot;, &quot;!&quot;. Look familiar?</li>
</ul>

<pre><code class="r">which(data$sightings &gt; 500) # what does this tell you? try ?which

which(data$sightings == max(data$sightings)) 

which(data$id == dim(data)[1])

newdata &lt;- data[which(data$sightings &gt; 100),]
</code></pre>

</section>
<section class='' data-state='' id='slide-20'>
  <h1>Challenge #1</h1>
  <ul>
<li>What is the year of the first sighting?</li>
<li>Which year had the most sightings?</li>
<li>which month(s) had less than 5?</li>
</ul>

</section>
<section class='' data-state='' id='slide-21'>
  <h1>Excel Challenge</h1>
  <ul>
<li>Construct a data table that summarises the number of sightings greater than 100 between the </li>
</ul>

</section>
<section class='' data-state='' id='slide-22'>
  <h3>dplyr - the mother of data analysis packages</h3>
  <p><strong>dplyr</strong> is build off of a base R package that provides convenient and powerful tools for wranging data into the format you desire. It uses natural &quot;verbs&quot; and piping operators to keep things fast and efficient. What does that mean?</p>

<pre><code class="r">install.packages(&quot;dplyr&quot;)
</code></pre>

<pre><code class="r">library(plyr) # base package must be loaded first
library(dplyr)
</code></pre>

<ul>
<li>select() - select the variables (columns) of the data you are interested in.</li>
<li>filter() - filter the rows of the data.frame utilising your logical operators &gt;,&lt;,&gt;=,&lt;=, and == according to the data of interest.</li>
<li>group_by() - group the data according to some category, for instance, group all data by continent.</li>
<li>summarise() - Summarise multiple values to a single value. For example, the mean GDP or total GDP of each continent, where the continent group was created using the function group_by().</li>
<li>mutate() - mutate or transform one variable into another using some function. For example, create a new variable (column) that is a combination of two other variables (population and GDP).</li>
</ul>

</section>
<section class='' data-state='' id='slide-23'>
  <h1>Let&#39;s give them a try</h1>
  <p>The dplyr piping operator is &quot;%&gt;%&quot;, which you can think of as &quot;and then&quot;. Let me show you:</p>

<ul>
<li>select the year and sightings columns &quot;and then&quot; group the data according to the year &quot;and then&quot; summarise each year by the mean sightings.</li>
</ul>

<pre><code class="r">data.new &lt;- data %&gt;%   # specify data you are using &quot;and then&quot;
    select(year, sightings) %&gt;% # select the year and sigtings columns
    group_by(year) %&gt;% # group data according to year
    summarise(mean.sightings = mean(sightings)) # select the date and sightings columns
</code></pre>

<ul>
<li>Let&#39;s remove those years where one is sighted</li>
</ul>

<pre><code class="r">data.update &lt;- data.new %&gt;%
    filter(mean.sightings != 1)
</code></pre>

<ul>
<li>How about by month?</li>
</ul>

</section>
<section class='' data-state='' id='slide-24'>
  <h2>Visualisation</h2>
  <p>R has base plots:</p>

<pre><code class="r">plot(mean.sightings ~ year, data.update)
</code></pre>

<p><img src="basicRplot.png" alt="sightingsPlot"></p>

</section>
<section class='' data-state='' id='slide-25'>
  <h1>Quick Challenge</h1>
  <ul>
<li>What is the year in which sightings erupt?</li>
<li>Is there a month where sightings are more prominent?</li>
</ul>

</section>
<section class='' data-state='' id='slide-26'>
  <h2>This is awkward... the plot is ugly...</h2>
  
</section>
<section class='' data-state='' id='slide-27'>
  <h1>ggplot2 :)</h1>
  <pre><code class="r">install.packages(&quot;ggplot2&quot;)
</code></pre>

</section>
<section class='' data-state='' id='slide-28'>
  <h1>ggplot2</h1>
  <ul>
<li>R&#39;s plots don&#39;t follow the object orientation! I can&#39;t save them for later.</li>
<li>ggplot uses data.frames and makes visually appealing plots</li>
<li>works well with dplyr, and has the same intuition (thank you Hadley!)</li>
</ul>

</section>
<section class='' data-state='' id='slide-29'>
  <h1>How ggplot2 works</h1>
  <h3>myPlot &lt;- ggplot(data.frame, aes(x, y, ...)) + ?</h3>

<ul>
<li>I call my plot <strong>myPlot</strong> (now it&#39;s an object :) )</li>
<li>I place my data.frame in</li>
<li>I specify the aesthetics (parameters specifying the plot)</li>
<li>Then, I must specify what my plot will be (scatter, line, histogram, etc.)</li>
</ul>

</section>
<section class='' data-state='' id='slide-30'>
  <h1>Example</h1>
  <pre><code class="r">library(ggplot2)
myPlot &lt;- ggplot(data.update, aes(x = year, y = mean.sightings)) + geom_line(colour = &quot;blue&quot;)
</code></pre>

<ul>
<li>But I want to add more! Then let&#39;s just add properties to the object!</li>
</ul>

<pre><code class="r">myPlot2 &lt;- myPlot + 
    geom_point(colour = &quot;red&quot;) + theme_bw() + 
    ggtitle(&quot;Sightings by Year&quot;) +
    geom_vline(xintercept = 1994, linetype = &quot;dashed&quot;)
</code></pre>

</section>
<section class='' data-state='' id='slide-31'>
  
  <p><img src="Sightings_year.png" alt="plot2"></p>

</section>
<section class='' data-state='' id='slide-32'>
  <h2>Can you do better?</h2>
  <ul>
<li>check the resources for ggplot2 to learn the types of plots and its capabilities.</li>
<li>there are many other types of visualisations you can handle with ggplot</li>
</ul>

</section>
<section class='' data-state='' id='slide-33'>
  <h1>A more flavourful data set - Gapminder</h1>
  <ul>
<li>Download the .tsv into your working directory</li>
<li>Read in gapminder</li>
</ul>

<pre><code class="r">gapminder &lt;- read.delim(&quot;Workshops/Data_Analysis_Intro/Data/gapminder.tsv&quot;)
</code></pre>

<pre><code>## Warning in file(file, &quot;rt&quot;): cannot open file
## &#39;Workshops/Data_Analysis_Intro/Data/gapminder.tsv&#39;: No such file or
## directory
</code></pre>

<pre><code>## Error in file(file, &quot;rt&quot;): cannot open the connection
</code></pre>

<ul>
<li>why read.delim? What is a .tsv vs .csv?</li>
<li>Examine the data using the functions you used previously</li>
</ul>

</section>
<section class='' data-state='' id='slide-34'>
  <h1>Example</h1>
  <pre><code class="r"># dplyr wrangling
gDat &lt;- gapminder %&gt;%
    select(continent, year, pop) %&gt;%
    filter(year == 2007) %&gt;%
    filter(continent != &quot;Oceania&quot;) %&gt;% # what am I doing here? Why?
    group_by(pop) # Why group by population?

# ggplot plotting
p1 &lt;- ggplot(gDat, aes(log(pop), fill = continent)) + 
    geom_density(alpha = 0.5) + # what does alpha do?
    facet_wrap(~continent) + 
    ggtitle(&quot;Distribution of Population by Continent in 2007&quot;) +
        theme_bw()
print(p1)
</code></pre>

</section>
<section class='' data-state='' id='slide-35'>
  
  <p><img src="pop_dist.png" alt="plot3"></p>

</section>
    </div>
  </div>
</body>
  <script src="libraries/frameworks/revealjs/lib/js/head.min.js"></script>
  <script src="libraries/frameworks/revealjs/js/reveal.min.js"></script>
  <script>
  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,
    theme: Reveal.getQueryHash().theme || 'default', 
    transition: Reveal.getQueryHash().transition || 'default', 
    dependencies: [
    // Cross-browser shim that fully implements classList -
    // https://github.com/eligrey/classList.js/
      { src: 'libraries/frameworks/revealjs/lib/js/classList.js', condition: function() { return !document.body.classList;}},
      // Zoom in and out with Alt+click
      { src: 'libraries/frameworks/revealjs/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      // Speaker notes
      { src: 'libraries/frameworks/revealjs/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
      // Remote control your reveal.js presentation using a touch device
      //{ src: 'libraries/frameworks/revealjs/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
      ]
  });
  </script>  <!-- LOAD HIGHLIGHTER JS FILES -->
<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- DONE LOADING HIGHLIGHTER JS FILES -->
 

</html>